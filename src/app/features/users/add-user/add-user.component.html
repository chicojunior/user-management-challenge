<div class="add-user">
  <h1>Add User</h1>

  <mat-card>
    <mat-card-content>
      <form [formGroup]="addUserForm" (ngSubmit)="addUser()">
        <mat-form-field>
          <mat-label>First name</mat-label>
          <input type="text" matInput formControlName="firstName">
          <mat-error *ngIf="addUserForm.controls.firstName.hasError('required')">
            First name is <strong>required</strong>
          </mat-error>
        </mat-form-field>

        <mat-form-field>
          <mat-label>Last name</mat-label>
          <input type="text" matInput formControlName="lastName">
          <mat-error *ngIf="addUserForm.controls.lastName.hasError('required')">
            Last name is <strong>required</strong>
          </mat-error>
        </mat-form-field>

        <div class="avatar-form-field">
          <mat-form-field>
            <mat-label>Avatar URL</mat-label>
            <input type="text" matInput formControlName="avatarUrl">
            <mat-error *ngIf="addUserForm.controls.avatarUrl.hasError('required')">
              Avatar URL is <strong>required</strong>
            </mat-error>
          </mat-form-field>
          <img *ngIf="addUserForm.controls.avatarUrl.value" mat-card-avatar
            src="{{ addUserForm.controls.avatarUrl.value }}">
          <img *ngIf="!addUserForm.controls.avatarUrl.value" mat-card-avatar
            src="https://avatars.dicebear.com/api/adventurer-neutral/:seed.svg">

        </div>


        <mat-form-field>
          <mat-label>Email</mat-label>
          <input type="email" matInput formControlName="email" placeholder="Ex. john@tonicapp.com">
          <mat-error
            *ngIf="addUserForm.controls.email.hasError('email') && !addUserForm.controls.email.hasError('required')">
            Please enter a valid email address
          </mat-error>
          <mat-error *ngIf="addUserForm.controls.email.hasError('required')">
            Email is <strong>required</strong>
          </mat-error>
        </mat-form-field>

        <mat-form-field>
          <mat-label>Enter your password</mat-label>
          <input matInput [type]="hide ? 'password' : 'text'" formControlName="password">
          <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'"
            [attr.aria-pressed]="hide">
            <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
          </button>
          <mat-error *ngIf="addUserForm.controls.password.hasError('required')">
            Email is <strong>required</strong>
          </mat-error>
        </mat-form-field>
      </form>
    </mat-card-content>

    <mat-card-actions align="end">
      <button mat-raised-button>Cancel</button>
      <button type="submit" mat-raised-button color="primary" [disabled]=!addUserForm.valid>Add user</button>
    </mat-card-actions>

  </mat-card>
</div>
